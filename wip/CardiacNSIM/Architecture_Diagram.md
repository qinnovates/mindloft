# CardioLens Architecture Diagram Specification

## Device Overview: Quad-Modal Cardiac Imaging System

---

## 1. Physical Form Factor

```
                    TOP VIEW (Patient-facing surface)

                         â†â”€â”€ 80mm â”€â”€â†’
                    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
                   â•±                       â•²
                  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
                  â”‚    â”‚   NMR COIL    â”‚    â”‚     â†‘
                  â”‚    â”‚   (Primary)   â”‚    â”‚     â”‚
            â†‘     â”‚    â”‚   Ã˜50mm      â”‚    â”‚     â”‚
            â”‚     â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    100mm
           60mm   â”‚  â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹ â—‹   â”‚     â”‚
            â”‚     â”‚  ECG Dry Electrodes     â”‚     â”‚
            â†“     â”‚  (Gold-polymer, 12x)    â”‚     â”‚
                  â”‚                         â”‚     â†“
                   â•²    [PPG] [MIC] [PPG]  â•±
                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
                         Bio-adhesive rim

                    Curvature: R = 150mm (conformal)
```

### Dimensions
| Parameter | Value | Rationale |
|-----------|-------|-----------|
| Length | 100mm | Spans intercostal spaces |
| Width | 80mm | Fits between ribs |
| Thickness | 15mm (center) | Houses Halbach array |
| Curvature radius | 150mm | Matches average adult thorax |
| Weight target | <200g | Comparable to smartphone |

---

## 2. Layer Stack (Cross-Section)

```
    SIDE VIEW (Cross-section through center)

    Skin surface â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 â†“ Contact layer (bio-adhesive polymer)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ Silicone cushion (2mm) â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â—‹ â—‹ â—‹ â—‹ â—‹ Dry ECG electrodes (Au/polymer) â—‹ â—‹ â—‹ â—‹ â”‚ â† Perimeter
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚ â”‚  RF Coil Layer (flexible PCB, polyimide)     â”‚   â”‚ â† 0.5mm
    â”‚ â”‚  Transmit/Receive switchable                 â”‚   â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”   â”‚
    â”‚ â”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚Sâ”‚Nâ”‚   â”‚ â† Halbach Array
    â”‚ â”‚â†“â”‚â†’â”‚â†‘â”‚â†â”‚â†“â”‚â†’â”‚â†‘â”‚â†â”‚â†“â”‚â†’â”‚â†‘â”‚â†â”‚â†“â”‚â†’â”‚â†‘â”‚â†â”‚â†“â”‚â†’â”‚â†‘â”‚â†â”‚â†“â”‚â†’â”‚â†‘â”‚   â”‚   (NdFeB, 8mm)
    â”‚ â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚ â”‚  Electronics PCB (rigid-flex, 4-layer)       â”‚   â”‚ â† 2mm
    â”‚ â”‚  â€¢ ADC (24-bit, 4-channel)                   â”‚   â”‚
    â”‚ â”‚  â€¢ MCU (Cortex-M4F)                          â”‚   â”‚
    â”‚ â”‚  â€¢ RF frontend (LNA, mixer, diplexer)        â”‚   â”‚
    â”‚ â”‚  â€¢ Bluetooth LE + WiFi                       â”‚   â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“ Battery (Li-Po, 500mAh) â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚ â† 2mm
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ â•â•â•â•â•â•â•â•â• Enclosure (medical-grade ABS) â•â•â•â•â•â•â•â•â• â”‚ â† 0.5mm
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Sensing Modality Integration

### 3.1 Spatial Distribution

```
    COMPONENT PLACEMENT (Top-down, exploded)

    Layer 1: Contact Surface
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹ â”‚  â† ECG electrodes (perimeter)
    â”‚ â—‹                               â—‹   â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚ â—‹   â”‚                         â”‚  â—‹  â”‚
    â”‚     â”‚    RF COIL APERTURE     â”‚     â”‚
    â”‚ â—‹   â”‚       (clear)           â”‚  â—‹  â”‚
    â”‚     â”‚                         â”‚     â”‚
    â”‚ â—‹   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â—‹  â”‚
    â”‚                                     â”‚
    â”‚ â—‹  [PPG-L]    [MIC]    [PPG-R]   â—‹  â”‚  â† Optical + Acoustic
    â”‚  â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹   â—‹ â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

    PPG-L/R: Dual PPG for differential measurement
    MIC: MEMS microphone (acoustic window)
```

### 3.2 Signal Routing

```
    SIGNAL FLOW DIAGRAM

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   SENSORS   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                      â”‚
    â–¼                   â–¼                 â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ECG  â”‚         â”‚   NMR   â”‚       â”‚   PPG   â”‚     â”‚ ACOUSTICâ”‚
â”‚12 elecâ”‚         â”‚RF coil  â”‚       â”‚LED+PDÃ—2 â”‚     â”‚MEMS mic â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚                  â”‚                 â”‚               â”‚
    â–¼                  â–¼                 â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Inst  â”‚         â”‚  LNA    â”‚       â”‚Trans-   â”‚     â”‚ Pre-amp â”‚
â”‚ Amp   â”‚         â”‚ 0.5dB NFâ”‚       â”‚impedanceâ”‚     â”‚ + AGC   â”‚
â”‚Ã—1000  â”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚ Amp     â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”¬â”€â”€â”€â”˜              â”‚            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â”‚
    â”‚                  â–¼                 â”‚               â”‚
    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚               â”‚
    â”‚            â”‚ Diplexerâ”‚             â”‚               â”‚
    â”‚            â”‚PIN diodeâ”‚             â”‚               â”‚
    â”‚            â”‚ switch  â”‚             â”‚               â”‚
    â”‚            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚               â”‚
    â”‚                 â”‚                  â”‚               â”‚
    â–¼                 â–¼                  â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    24-bit ADC (4 channels)              â”‚
â”‚              Simultaneous sampling @ 10 kHz             â”‚
â”‚         (ECG: 1kHz, NMR: variable, PPG: 100Hz,         â”‚
â”‚                    Acoustic: 8kHz)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   MCU (M4F)     â”‚
                    â”‚ Signal fusion   â”‚
                    â”‚ ML inference    â”‚
                    â”‚ Data buffering  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                              â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Bluetooth LEâ”‚                â”‚   Storage   â”‚
      â”‚ (real-time) â”‚                â”‚  (32GB Î¼SD) â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Companion   â”‚
      â”‚ App (iOS/   â”‚
      â”‚ Android)    â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Halbach Array Configuration

### 4.1 Magnetic Field Pattern

```
    HALBACH ARRAY CROSS-SECTION (Magnetic Field Lines)

    Weak field side (back of device)
    â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€

    â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
    â”‚  â†“  â”‚  â†’  â”‚  â†‘  â”‚  â†  â”‚  â†“  â”‚  â†’  â”‚  â†‘  â”‚  â†  â”‚  Magnet
    â”‚  N  â”‚ Nâ†’S â”‚  S  â”‚ Sâ†N â”‚  N  â”‚ Nâ†’S â”‚  S  â”‚ Sâ†N â”‚  Orientation
    â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜

           â•²   â”‚   â•±       â•²   â”‚   â•±
            â•²  â”‚  â•±         â•²  â”‚  â•±
             â•² â”‚ â•±           â•² â”‚ â•±         Field lines
              â•²â”‚â•±             â•²â”‚â•±          (concentrated
               â”‚               â”‚           on patient side)
               â”‚               â”‚
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    Strong field side (toward patient/heart)

    Bâ‚€ â‰ˆ 0.05-0.1 T at coil surface
    Penetration: 30-40mm into tissue
```

### 4.2 Field Strength Profile

```
    AXIAL FIELD DECAY (z = depth into tissue)

    B(z)
    (mT)
    â”‚
 100â”œâ—
    â”‚ â•²
  80â”œ  â—
    â”‚   â•²
  60â”œ    â—
    â”‚     â•²
  40â”œ      â—â”€â”€â”€â”€â”€â”€â”€â”€ Target imaging depth
    â”‚        â•²        (left ventricle)
  20â”œ         â—
    â”‚          â•²
   0â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â†’ z (mm)
    0    10    20   30   40   50

    B(z) = Î¼â‚€IRÂ² / 2(RÂ² + zÂ²)^(3/2)

    For R = 25mm, I = 2A:
    â€¢ z = 0mm:  B = 100 mT
    â€¢ z = 20mm: B = 45 mT
    â€¢ z = 40mm: B = 15 mT
```

---

## 5. ECG Electrode Configuration

```
    12-LEAD EQUIVALENT PLACEMENT

    Standard chest positions mapped to device footprint:

              V1   V2
               â—‹   â—‹

         â—‹               â—‹

     â—‹       â”Œâ”€â”€â”€â”€â”€â”       â—‹
             â”‚ NMR â”‚
         â—‹   â”‚COIL â”‚   â—‹
             â””â”€â”€â”€â”€â”€â”˜
         â—‹               â—‹

               â—‹   â—‹
              V5   V6

    Differential pairs for noise rejection:
    â€¢ V1-V2: Septal
    â€¢ V3-V4: Anterior
    â€¢ V5-V6: Lateral

    Electrode specs:
    â€¢ Material: Au-plated polymer (dry contact)
    â€¢ Diameter: 8mm each
    â€¢ Contact impedance: <50 kÎ© @ 10 Hz
```

---

## 6. Optical (PPG) Subsystem

```
    PPG MODULE DETAIL

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                     â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”            â”‚
    â”‚   â”‚ LED â”‚       â”‚ LED â”‚            â”‚
    â”‚   â”‚ 530 â”‚       â”‚ 940 â”‚            â”‚
    â”‚   â”‚ nm  â”‚       â”‚ nm  â”‚            â”‚
    â”‚   â”‚greenâ”‚       â”‚ IR  â”‚            â”‚
    â”‚   â””â”€â”€â”¬â”€â”€â”˜       â””â”€â”€â”¬â”€â”€â”˜            â”‚
    â”‚      â”‚             â”‚               â”‚
    â”‚      â–¼             â–¼               â”‚
    â”‚   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  Skin     â”‚
    â”‚   â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬  Tissue   â”‚
    â”‚   â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚  Blood    â”‚
    â”‚   â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´           â”‚
    â”‚         â”‚ Reflected                â”‚
    â”‚         â–¼ light                    â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”                       â”‚
    â”‚      â”‚ PD  â”‚  Photodiode           â”‚
    â”‚      â”‚     â”‚  (Si, filtered)       â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”˜                       â”‚
    â”‚                                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Measurements:
    â€¢ SpOâ‚‚ (blood oxygen saturation)
    â€¢ Heart rate (pulse detection)
    â€¢ Pulse waveform morphology
    â€¢ Perfusion index
```

---

## 7. Acoustic Subsystem

```
    MEMS MICROPHONE INTEGRATION

    Cross-section:

    Device enclosure
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  Acoustic mesh
              â”‚â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â”‚  (dust/moisture
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   protection)
                   â”‚
              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
              â”‚  â”Œâ”€â”€â”€â”  â”‚
              â”‚  â”‚MICâ”‚  â”‚  MEMS microphone
              â”‚  â””â”€â”¬â”€â”˜  â”‚  â€¢ Sensitivity: -38 dBFS
              â”‚    â”‚    â”‚  â€¢ SNR: 65 dB
              â”‚  â”Œâ”€â”´â”€â”  â”‚  â€¢ Freq range: 20-20kHz
              â”‚  â”‚ADCâ”‚  â”‚  (cardiac: 20-600 Hz)
              â”‚  â””â”€â”€â”€â”˜  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Target sounds:
    â€¢ S1 (lub): Mitral/tricuspid closure, 25-45 Hz
    â€¢ S2 (dub): Aortic/pulmonic closure, 50-80 Hz
    â€¢ Murmurs: Turbulent flow, 100-600 Hz
    â€¢ S3/S4 (gallops): Ventricular filling, 25-50 Hz
```

---

## 8. System Block Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CARDIOLENS SYSTEM                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        SENSING LAYER                              â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
â”‚  â”‚  â”‚  ECG   â”‚  â”‚  NMR   â”‚  â”‚  PPG   â”‚  â”‚ACOUSTICâ”‚                   â”‚  â”‚
â”‚  â”‚  â”‚        â”‚  â”‚        â”‚  â”‚        â”‚  â”‚        â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚ 12 dry â”‚  â”‚ RF coilâ”‚  â”‚ Dual   â”‚  â”‚ MEMS   â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚ elec-  â”‚  â”‚ Halbachâ”‚  â”‚ wave-  â”‚  â”‚ micro- â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚ trodes â”‚  â”‚ array  â”‚  â”‚ length â”‚  â”‚ phone  â”‚                   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚  â”‚      â”‚           â”‚           â”‚           â”‚                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚           â”‚           â”‚           â”‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      â–¼           â–¼           â–¼           â–¼    ANALOG FRONTEND     â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
â”‚  â”‚  â”‚ Instr  â”‚  â”‚  LNA   â”‚  â”‚ Trans- â”‚  â”‚ Pre-   â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚ Amp    â”‚  â”‚ +RF FE â”‚  â”‚ imped  â”‚  â”‚ amp    â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚ CMRR   â”‚  â”‚ Diplex â”‚  â”‚ Amp    â”‚  â”‚ +AGC   â”‚                   â”‚  â”‚
â”‚  â”‚  â”‚ >100dB â”‚  â”‚ Switch â”‚  â”‚        â”‚  â”‚        â”‚                   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚  â”‚      â”‚           â”‚           â”‚           â”‚                        â”‚  â”‚
â”‚  â”‚      â–¼           â–¼           â–¼           â–¼                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚              24-bit Sigma-Delta ADC (4 channels)          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                  Simultaneous sampling                     â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                            â”‚                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                            â–¼         DIGITAL PROCESSING           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚                    MCU (ARM Cortex-M4F)                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  ECG    â”‚ â”‚  NMR    â”‚ â”‚  PPG    â”‚ â”‚ Acousticâ”‚            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Process â”‚ â”‚ Process â”‚ â”‚ Process â”‚ â”‚ Process â”‚            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢Filter â”‚ â”‚ â€¢FFT    â”‚ â”‚ â€¢SpO2   â”‚ â”‚ â€¢Filter â”‚            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢QRS    â”‚ â”‚ â€¢T1/T2  â”‚ â”‚ â€¢HR     â”‚ â”‚ â€¢S1/S2  â”‚            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ST seg â”‚ â”‚ â€¢Recon  â”‚ â”‚ â€¢Pulse  â”‚ â”‚ â€¢Murmur â”‚            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚       â”‚           â”‚           â”‚           â”‚                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                         â”‚                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                         â–¼                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚  SENSOR FUSION  â”‚                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚   ML Engine     â”‚                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚  (TinyML/CMSIS) â”‚                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                        â”‚                                     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                           â”‚                                        â”‚  â”‚
â”‚  â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚  â”‚
â”‚  â”‚            â–¼              â–¼              â–¼                         â”‚  â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
â”‚  â”‚     â”‚ BLE 5.0   â”‚  â”‚ Storage   â”‚  â”‚ Display   â”‚                   â”‚  â”‚
â”‚  â”‚     â”‚ Real-time â”‚  â”‚ microSD   â”‚  â”‚ LEDs      â”‚                   â”‚  â”‚
â”‚  â”‚     â”‚ streaming â”‚  â”‚ logging   â”‚  â”‚ Status    â”‚                   â”‚  â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚  â”‚
â”‚  â”‚                                                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        POWER MANAGEMENT                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”‚
â”‚  â”‚  â”‚ Li-Po      â”‚â”€â”€â”€â–¶â”‚ PMIC       â”‚â”€â”€â”€â–¶â”‚ Regulators â”‚               â”‚  â”‚
â”‚  â”‚  â”‚ 500mAh     â”‚    â”‚ Charging   â”‚    â”‚ 3.3V, 5V   â”‚               â”‚  â”‚
â”‚  â”‚  â”‚ USB-C chg  â”‚    â”‚ Protection â”‚    â”‚ RF supply  â”‚               â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. Signal Timing Diagram

```
    MULTI-MODAL ACQUISITION TIMING

    Time â†’  0ms    100ms   200ms   300ms   400ms   500ms   600ms
            â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
    ECG     â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
            Continuous @ 1 kHz sampling

    NMR     â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘
            50ms bursts @ 5 Hz repetition
            (RF off during other acquisitions to avoid interference)

    PPG     â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘
            Triggered @ 100 Hz, 1ms LED pulse
            (Interleaved with NMR quiet periods)

    Acousticâ–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“
            Continuous @ 8 kHz sampling
            (Filtered to remove RF artifacts during NMR bursts)

    Legend: â–“ = Continuous  â–ˆ = Burst  â–‘ = Idle/blanking

    Key constraints:
    â€¢ NMR and PPG LED do not overlap (RF interference)
    â€¢ ECG and Acoustic run continuously (different frequency domains)
    â€¢ 200ms window captures full cardiac cycle (~300ms at 60 bpm)
```

---

## 10. Data Fusion Architecture

```
    MULTI-MODAL FUSION PIPELINE

    Raw Signals                   Feature Extraction              Fusion
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€

    ECG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    (1 kHz)         â”‚    â”‚ â€¢ QRS complex detection       â”‚
                    â”œâ”€â”€â”€â–¶â”‚ â€¢ ST segment analysis         â”‚
                    â”‚    â”‚ â€¢ Heart rate variability      â”‚
                    â”‚    â”‚ â€¢ Arrhythmia classification   â”‚â”€â”€â”€â”
                    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                    â”‚                                        â”‚
    NMR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    (5 Hz bursts)   â”‚    â”‚ â€¢ T1/T2 relaxation times      â”‚   â”‚
                    â”œâ”€â”€â”€â–¶â”‚ â€¢ Tissue characterization     â”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    â”‚ â€¢ Edema detection             â”‚â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚  MULTI- â”‚
                    â”‚    â”‚ â€¢ Fibrosis markers            â”‚   â”‚    â”‚  MODAL  â”‚
                    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ CARDIAC â”‚
                    â”‚                                        â”‚    â”‚  INDEX  â”‚
    PPG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  (MCI)  â”‚
    (100 Hz)        â”‚    â”‚ â€¢ SpOâ‚‚ calculation            â”‚   â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                    â”œâ”€â”€â”€â–¶â”‚ â€¢ Pulse transit time          â”‚â”€â”€â”€â”¤         â”‚
                    â”‚    â”‚ â€¢ Perfusion index             â”‚   â”‚         â”‚
                    â”‚    â”‚ â€¢ Waveform morphology         â”‚   â”‚         â–¼
                    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                        â”‚    â”‚ CLINICALâ”‚
    Acoustic â”€â”€â”€â”€â”€â”€â”€â”¤    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚ DECISIONâ”‚
    (8 kHz)         â”‚    â”‚ â€¢ S1/S2 detection             â”‚   â”‚    â”‚ SUPPORT â”‚
                    â””â”€â”€â”€â–¶â”‚ â€¢ Murmur classification       â”‚â”€â”€â”€â”˜    â”‚         â”‚
                         â”‚ â€¢ Valve timing                â”‚        â”‚ Risk:   â”‚
                         â”‚ â€¢ Extra heart sounds (S3/S4)  â”‚        â”‚ LOW /   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ MEDIUM /â”‚
                                                                  â”‚ HIGH    â”‚
                                                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Safety Architecture

```
    SAFETY INTERLOCK SYSTEM

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                       SAFETY MONITORS                           â”‚
    â”‚                                                                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    â”‚  â”‚Temperatureâ”‚  â”‚ Current  â”‚  â”‚  Time    â”‚  â”‚ Skin     â”‚       â”‚
    â”‚  â”‚ Sensor   â”‚  â”‚ Monitor  â”‚  â”‚ Watchdog â”‚  â”‚ Contact  â”‚       â”‚
    â”‚  â”‚ <41Â°C    â”‚  â”‚ <100mA   â”‚  â”‚ 30min maxâ”‚  â”‚ Detect   â”‚       â”‚
    â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚
    â”‚       â”‚             â”‚             â”‚             â”‚              â”‚
    â”‚       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚
    â”‚              â”‚             â”‚             â”‚                     â”‚
    â”‚              â–¼             â–¼             â–¼                     â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
    â”‚         â”‚        SAFETY LOGIC (HW)           â”‚                 â”‚
    â”‚         â”‚     Independent of main MCU        â”‚                 â”‚
    â”‚         â”‚     Hardwired shutdown paths       â”‚                 â”‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚                           â”‚                                    â”‚
    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
    â”‚              â–¼            â–¼            â–¼                      â”‚
    â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
    â”‚        â”‚ RF OFF  â”‚  â”‚POWER OFFâ”‚  â”‚ ALERT   â”‚                  â”‚
    â”‚        â”‚ Switch  â”‚  â”‚ Relay   â”‚  â”‚ USER    â”‚                  â”‚
    â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
    â”‚                                                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    SAR Limit: < 2 W/kg (FDA/IEC 60601 compliant)
    Temperature rise: < 1Â°C surface
    Battery: UL2054 certified cells with PTC protection
```

---

## 12. Companion App Interface

```
    MOBILE APP SCREENS (Wireframe)

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    HOME         â”‚   â”‚   LIVE VIEW     â”‚   â”‚   RESULTS       â”‚
    â”‚                 â”‚   â”‚                 â”‚   â”‚                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  ECG Trace      â”‚   â”‚  Risk Score     â”‚
    â”‚  â”‚ CardioLensâ”‚  â”‚   â”‚  âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿âˆ¿    â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚   One     â”‚  â”‚   â”‚                 â”‚   â”‚  â”‚    72     â”‚  â”‚
    â”‚  â”‚    ğŸ”‹     â”‚  â”‚   â”‚  SpOâ‚‚: 98%      â”‚   â”‚  â”‚   /100    â”‚  â”‚
    â”‚  â”‚   85%     â”‚  â”‚   â”‚  HR: 72 bpm     â”‚   â”‚  â”‚   LOW     â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚                 â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚                 â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚                 â”‚
    â”‚  [Start Scan]   â”‚   â”‚  â”‚ â™¡ Heart   â”‚  â”‚   â”‚  ECG: Normal    â”‚
    â”‚                 â”‚   â”‚  â”‚  Sounds   â”‚  â”‚   â”‚  NMR: Normal    â”‚
    â”‚  Last scan:     â”‚   â”‚  â”‚ S1â”€â”€S2â”€â”€  â”‚  â”‚   â”‚  SpOâ‚‚: 98%      â”‚
    â”‚  2 hours ago    â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  Sounds: Clear  â”‚
    â”‚                 â”‚   â”‚                 â”‚   â”‚                 â”‚
    â”‚  History  >     â”‚   â”‚  [â—‰ Recording] â”‚   â”‚  [Share Report] â”‚
    â”‚  Settings >     â”‚   â”‚                 â”‚   â”‚  [View Details] â”‚
    â”‚                 â”‚   â”‚  00:45 elapsed  â”‚   â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 13. Manufacturing Notes

### PCB Stack-up
```
    Layer 1: Signal (ECG traces, sensitive analog)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Prepreg (0.2mm)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Layer 2: Ground plane (solid copper)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Core (0.8mm)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Layer 3: Power planes (+3.3V, +5V, RF)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Prepreg (0.2mm)
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Layer 4: Digital (MCU, BLE, connectors)

    Total thickness: ~1.6mm
    Material: FR-4 (rigid) + Polyimide (flex sections)
```

### Bill of Materials (Key Components)
| Component | Part Number (Example) | Qty |
|-----------|----------------------|-----|
| MCU | STM32L4R5 | 1 |
| ADC | ADS1298 (24-bit, 8ch) | 1 |
| LNA | MAX2640 | 1 |
| PPG AFE | MAX86141 | 1 |
| MEMS Mic | ICS-43434 | 1 |
| BLE Module | nRF52840 | 1 |
| Battery | LP503035 (500mAh) | 1 |
| Halbach magnets | N52 NdFeB (custom) | 24 |

---

## 14. Regulatory Pathway

```
    FDA CLASSIFICATION AND PATHWAY

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                 â”‚
    â”‚   Device: CardioLens (Multi-modal Cardiac Monitor)              â”‚
    â”‚                                                                 â”‚
    â”‚   Classification: Class II (510(k) pathway)                     â”‚
    â”‚                                                                 â”‚
    â”‚   Predicate devices:                                            â”‚
    â”‚   â€¢ ECG monitors (e.g., AliveCor KardiaMobile)                 â”‚
    â”‚   â€¢ Pulse oximeters (e.g., Masimo MightySat)                   â”‚
    â”‚   â€¢ Digital stethoscopes (e.g., Eko DUO)                       â”‚
    â”‚   â€¢ Portable MRI (Hyperfine Swoop - for technology principle)  â”‚
    â”‚                                                                 â”‚
    â”‚   Key standards:                                                â”‚
    â”‚   â€¢ IEC 60601-1 (Medical electrical equipment)                 â”‚
    â”‚   â€¢ IEC 60601-2-25 (ECG specific)                              â”‚
    â”‚   â€¢ IEC 60601-2-33 (MR equipment specific)                     â”‚
    â”‚   â€¢ ISO 80601-2-61 (Pulse oximeter)                            â”‚
    â”‚                                                                 â”‚
    â”‚   Testing requirements:                                         â”‚
    â”‚   â€¢ EMC testing (IEC 60601-1-2)                                â”‚
    â”‚   â€¢ Biocompatibility (ISO 10993)                               â”‚
    â”‚   â€¢ SAR testing (IEC 62209)                                    â”‚
    â”‚   â€¢ Software validation (IEC 62304)                            â”‚
    â”‚                                                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*Diagram specification prepared for CardioLens (Cardiac-NSIM) project. These specifications are intended for engineering visualization, CAD modeling, and regulatory documentation. Created with assistance from Claude Code (Anthropic).*
